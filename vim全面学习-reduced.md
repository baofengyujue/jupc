# 模式切换
----------------------------------------------------------------------
命令模式时，输入：
```
i       进入"插入模式"  可在左下角看到 -- INSERT -- 标识
R       进入"替换模式"  可在左下角看到 -- REPLACE -- 标识
v       进入"可视模式"  可在左下角看到 -- VISUAL -- 标识
:       进入"末行模式"  可在左下角看到冒号 : 出现
/       进入"搜索模式"  可在左下角看到斜杠 / 出现

esc或ctrl+[         回到命令模式

esc或ctrl+[或backspace      输入部分命令后，取消命令
```

# 退出/保存
----------------------------------------------------------------------
```
ZZ          相当于:wq
ZQ          相当于:q!，不保存修改

ctrl+z      挂起vim进程回到terminal，terminal输入fg回车可回到vim编辑器
```

# 导航
----------------------------------------------------------------------
```
ctrl+e/y        向上/向下滚动一行(extra/yield one line)

ctrl+u/d        向上/向下滚动半屏(up/down)
ctrl+b/f        向上/向下滚动一屏(backword/forward)

zt/zz/zb        将当前行移动到屏幕的顶部/中部/底部位置(top/zz/bottom)

H/M/L           光标移动到当前屏幕的高/中/低位置(high/middle/low)
```


# 移动命令
----------------------------------------------------------------------
```

h,j,k,l             ←↓↑→移动光标

backspace/space     前进/后退
enter               光标移动到下一行句首

0/$     行首/行尾
^       句首

11G     移动到11行的行首（:set number/nonumber显示/关闭行号）
20|     移动到20列


*/#     移动到下一个/上一个光标所处的单词

gg/G    文件头/文件尾

%       移动到匹配括号处

w       下一个单词头(word)
b       当前单词词头，或上一单词词头(beginning)
e       当前单词词尾，或下一单词词尾(ending)

W/B/E   同w/b/e，但标点符号不算作独立单词，单词只以空格分隔

H/M/L   光标移动到当前屏幕的高/中/低位置(high/middle/low)

fx/Fx   在当前行，光标跳到之后/之前的x字符处
;       执行一次最近一次的fx/Fx命令
,       反方向执行一次最近一次的fx/Fx命令

{/}     移动到上一空白区域尾部/下一空白区域首部

`.      光标回到文件上一次更改处

mx      光标处做标记x
`x      光标移动到x标记处
'x      光标移动到x标记处的句首

```

# 编辑命令
----------------------------------------------------------------------
```
i/a     当前光标前/后插入(inset/append)
I/A     当前行首/尾插入

o/O     在当前行上面/下面新起一行并进入插入模式(open new line)

x       删除光标处字符
s       删除光标处字符，并进入插入模式(substitute)

J       合并下一行到当前行（中间会有空格分隔）(join)

y/d/c       复制/删除/修改 (修改即为执行删除后，进入插入模式)
Y/D/C       复制整行/删除到行尾/修改到行尾 (相当于yy/d$/c$)
yy/dd/cc    复制整行/删除整行/修改整行

p       vim内部剪贴板内容，粘贴到光标处字符后

u       撤销（相当于vscode中的ctrl+z）(undo)
ctrl+r  重做（相当于vscode中的ctrl+y）(redo)

>>/<<   缩进/取消缩进当前行
==      重新缩进当前行

```

# 量词+命令
----------------------------------------------------------------------
```
+移动命令：
3h/j/k/l    执行3次h/j/k/l

3backspace/space/enter          执行3次backspace/space/enter

3$      光标移动到后面第3行的行尾

3w      光标往后移动3个单词

3*/#    往后/往前跳到第3次出现光标所在单词的地方

3n/N    往后/往前跳到第3个查找项

+编辑命令：
3i      输入3i后会进入插入模式，然后输入字符，退出插入模式后，
        会将刚才输入的包括换行符等所有字符再重复输入2遍，总共输入3遍

3o      输入3o后会进入插入模式，然后输入字符，退出插入模式后，
        会将刚才输入的包括换行符等所有字符所在行再重复输入2遍，总共输入3遍
        与3i的区别是重复输入的是‘行’
3O      与3o只是方向相反

3x      删除后三个字符

3s      删除后三个字符，并进入插入模式
3S      删除后三行，并进入插入模式

3rx     替换后3个字符为x(x为任意键入字符)

3J      合并后3行到当前行

3p      粘贴3次

3u          撤销3次
3接ctrl+r   重做3次

3.      重复上一次执行的命令3次

3~      切换后3个字符的大小写

3>>     缩进后3行
3==     重新缩进后3行

+编辑命令+移动命令：
3yl     复制后3个字符
3yh     复制前3个字符

3yj     向下复制4行
3yk     向上复制4行

3yy     复制后3行

3yw     复制后3个单词

其它：
:10,20>>    缩进10行到20行
:10,20y     复制10行到20行
:10,20d     删除10行到20行
```

# 组合命令
----------------------------------------------------------------------
```
- y/d/c以y命令为例
- w/b/e以w命令为例
- 省略号...表示操作到相应位置

y0/y$   ...
y^      ...
yw      ...
y11G    ...
y20|    ...
yfx/yFx ...
y*/#    ...
yl      复制光标处字符
y%      复制括号及括号内的内容
y`x     复制到x标记处

其它常用组合：
dd,p        下移当前行
k,dd,p      上移当前行

10o接esc    在下方开出10行空行
10O接esc    在上方开出10行空行

```


# 插入模式中可使用的快捷键
----------------------------------------------------------------------
```
ctrl+w/u        删除光标前面的一个单词/前面的所有字符，这个与emacs一样

ctrl+n/p        从自动完成列表的上面/下面开始选择完成单词(next/previous)
                (连续键入ctrl+n/p则会向下/向上切换自动完成项)

ctrl+t/d        tab或de-tab一次本行

ctrl+o          从插入模式临时进入一次命令模式（执行完后随即返回插入模式）
```

# 可视模式
----------------------------------------------------------------------
```
v       进入可视模式（选择光标间的字符）
V       进入可视行模式（选择光标间的行）
ctrl+v  进入可视块模式（选择光标间的块，即垂直选择/块选择）

在可视模式下，有如下命令：
c,d,y   edit-related
=,>,<   indent-related

o       move to other end of marked area
O       move to other corner of block(针对可视块模式的)
```


# 查找与替换
----------------------------------------------------------------------
```
:s/str1/str2/g          替换当前行str1为str2

:%s/str1/str2/g         替换所有str1为str2

:10,20s/str1/str2/g     替换从10行到20行所有str1为str2
                        (如果不加/g则只会替换每一行第一个匹配项)

:%s/^\n$//g             删除空行
:g/xx/d                 删除包含xx字符串的行

/str            正向查找str
?str            反向查找str（与/str的搜索顺序相反，其按n为查找上一个）

d/str           向后删除到str(不删str)
d?str           向前删除到str(删除str)

n/N             在上述查找命令的结果中正向/反向查找下一个/上一个

:set hlsearch/nohlsearch    设置/关闭高亮显示查找结果
```


# 复制粘贴
----------------------------------------------------------------------
ctrl+shift+c        鼠标选择文本后，复制到系统剪贴板
ctrl+shift+v        插入模式下，在光标处粘贴系统剪贴板中的内容


# 其它操作
----------------------------------------------------------------------
```
qa   开始记录宏a
q    结束记录
@a   应用宏a


:abbr hw hello world    设置字符串hello world的简写为hw，
                        在插入模式下，输入hw再输入结束符会用全称替代hw


"xy     yank into register x
"xp     paste contents of register x
:reg    show registers content
```


# 分屏
----------------------------------------------------------------------
```
- 水平分屏<==>上下分屏，在上方新开屏
- 垂直分屏<==>左右分屏，在左边新开屏
- 分屏后，新开的屏都会获得焦点
- 打开和保存文件都是在当前目录下

:vsp filename   垂直分屏打开文件(vertical split)
:sp filename    水平分屏打开文件(split)

- 如果filename在当前目录下不存在，则为新建filename文件
- 如果不跟filename，则为复制分屏当前文件

ctrl+w,v        垂直复制分屏，相当于:vsp
ctrl+w,s        水平复制分屏，相当于:sp

ctrl+w,w        分屏之间逐个切换
ctrl+w,h/j/k/l  切换到h,j,k,l位置的分屏

ctrl+w,o        关闭其它分屏，只保留当前分屏
ctrl+w,c        关闭当前分屏

```

# 配置文件
```
备份    sudo cp /etc/vim/vimrc /etc/vim/vimrc.backup
修改    sudo vim /etc/vim/vimrc

自动匹配括号设置：
inoremap ( ()<Esc>i
inoremap [ []<Esc>i
inoremap { {}<Esc>i
inoremap < <><Esc>i

让vim中的tab为4个空格：
filetype plugin indent on
set tabstop=4
set shiftwidth=4
set expandtab


末行模式常用设置项：
:set number/nonumber        显示/关闭行号
:set hlsearch/nohlsearch    设置/关闭高亮显示查找结果
```
